<div class="container mt-4">
  <div class="row">
    <!-- Left side (images) -->
    <div class="col-md-6">
      <!-- Big thumbnail -->
      <div class="mb-3">
        <img [src]="productItem?.thumbnail" alt="Product Thumbnail" class="img-fluid border rounded w-100"
          style="max-height: 400px; object-fit: contain;">
      </div>

      <!-- Small preview images -->
      <div class="d-flex flex-wrap gap-2">
        @for(img of (productItem?.images ?? []); track $index){
        <img [src]="img" alt="Product Image" class="border rounded"
          style="width: 80px; height: 80px; object-fit: cover; cursor: pointer;">
        }

      </div>
    </div>

    <!-- Right side (product details) -->
    <div class="col-md-6">
      <h2>{{ productItem?.title }}</h2>

      <p style="color:#044A0A;">{{ productItem?.description }}</p>

      <h4 class="mb-3">{{ productItem?.price | currency:'EGP':'code' }}</h4>

      <!-- Stock badge -->
      <div class="mb-2">
        @if(productItem && productItem.stock > 0){
        <span class="badge status-badge-green">In stock</span>
        } @else {
        <span class="badge status-badge-red">Out of stock</span>
        }
      </div>

      <!-- Rating -->
      <p>
        <span [innerHTML]="(productItem?.rating ?? 0) | stars"></span>
        {{ productItem?.rating ?? 0 }}
      </p>

      <button type="button" class="btn AddToCart-btn" [routerLink]="['/cart', productItem.id]" (click)="handleAddToCart()">Add to Cart</button>
    </div>
  </div>
</div>